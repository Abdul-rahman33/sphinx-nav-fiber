import{Y as N,Z as b,j as e,X as n,ab as v,r as a,a0 as L}from"./index-a35eafb3.js";import{ck as _,u as h,cI as B,ch as C,az as k,cj as z,bO as D,aS as I,cJ as A,cK as F,ca as M}from"./index-2b8ef315.js";import{S as R}from"./Skeleton-0dcfb54c.js";const O=()=>e.jsxs(n,{children:[e.jsx(n,{align:"center",direction:"row",justify:"space-between",mb:18,children:e.jsx(n,{align:"center",direction:"row",children:e.jsx(P,{children:"Edit node name"})})}),e.jsx(n,{mb:12,children:e.jsx(_,{id:"cy-topic",maxLength:50,name:"topic",placeholder:"Add your topic",rules:{...v}})})]}),P=N(b)`
  font-size: 22px;
  font-weight: 600;
  font-family: 'Barlow';
`,V=()=>{const{close:c}=h("editNodeName"),[r]=B(s=>[s.data]),d=C({mode:"onChange"}),{watch:j,setValue:l,reset:u}=d,[p,m]=a.useState(!1),[f,x]=a.useState(!1),[t,y]=a.useState(),o=k();a.useEffect(()=>(t&&l("topic",t==null?void 0:t.topic),()=>{u()}),[t,l,u]),a.useEffect(()=>{(async()=>{if(o){x(!0);try{const{data:i}=await A({search:o==null?void 0:o.name}),E=i.find(T=>T.topic===o.name);y(E)}catch(i){console.log(i)}finally{x(!1)}}})()},[o]);const g=j("topic"),S=()=>{c()},w=async()=>{m(!0);try{if(await F({ref_id:(t==null?void 0:t.ref_id)||"",node_name:"topic",node_value:g.trim()}),r){const s={...r};console.log(s)}S()}catch(s){console.warn(s)}finally{m(!1)}};return e.jsxs(z,{...d,children:[f?e.jsx(n,{my:24,children:e.jsx(R,{})}):e.jsx(O,{}),e.jsxs(D,{color:"secondary",disabled:p||f,onClick:w,size:"large",variant:"contained",children:["Save",p&&e.jsx(I,{color:L.BLUE_PRESS_STATE,size:10})]})]})},K=()=>{const{close:c}=h("editNodeName");return e.jsx(M,{id:"editNodeName",kind:"regular",onClose:c,preventOutsideClose:!0,children:e.jsx(V,{})})};export{K as EditNodeNameModal};
