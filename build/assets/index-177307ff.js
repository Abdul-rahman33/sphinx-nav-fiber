import{Y as h,Z as y,j as e,X as r,r as a,a0 as S}from"./index-d68fc7d9.js";import{u as w,az as v,bO as m,aS as E,cJ as T,cL as C,ca as L}from"./index-2702afe7.js";import{S as b}from"./Skeleton-ebf1a27f.js";const z=()=>e.jsx(r,{children:e.jsx(r,{align:"center",direction:"row",justify:"space-between",mb:18,children:e.jsx(r,{align:"center",direction:"row",children:e.jsx(B,{children:"Remove node"})})})}),B=h(y)`
  font-size: 22px;
  font-weight: 600;
  font-family: 'Barlow';
`,R=()=>{const{close:f}=w("removeNode"),[i,c]=a.useState(!1),[x,l]=a.useState(!1),[s,u]=a.useState(),o=v(),j=()=>{f()};a.useEffect(()=>{(async()=>{if(o){l(!0);try{const{data:n}=await T({search:o==null?void 0:o.name}),d=n.find(p=>p.topic===o.name);console.log(n),console.log(d),u(d)}catch(n){console.log(n)}finally{l(!1)}}})()},[o]);const g=async()=>{if(s!=null&&s.ref_id){c(!0);try{const t=await C(s.ref_id);console.log(t),console.log("remove")}catch(t){console.log(t),console.warn(t)}finally{c(!1)}}};return e.jsxs(e.Fragment,{children:[e.jsx(z,{}),x?e.jsx(b,{}):e.jsxs(r,{direction:"row",justify:"space-between",children:[e.jsx(m,{color:"secondary",onClick:j,size:"medium",variant:"outlined",children:"Cancel"}),e.jsxs(m,{disabled:i||!s,onClick:g,size:"medium",variant:"text",children:["Confirm",i&&e.jsx(E,{color:S.BLUE_PRESS_STATE,size:10})]})]})]})},M=()=>e.jsx(L,{id:"removeNode",kind:"small",preventOutsideClose:!0,children:e.jsx(R,{})});export{M as RemoveNodeModal};
