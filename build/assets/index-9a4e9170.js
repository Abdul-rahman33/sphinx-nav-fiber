import{Y as v,Z as N,j as e,X as n,ab as _,r as a,a0 as b}from"./index-7b1e84d7.js";import{cw as L,u as h,cE as B,ct as C,az as z,cv as D,b_ as F,aS as k,cF as A,cG as I,cm as M}from"./index-e50c2c75.js";import{S as R}from"./Skeleton-670d9e49.js";const P=()=>e.jsxs(n,{children:[e.jsx(n,{align:"center",direction:"row",justify:"space-between",mb:18,children:e.jsx(n,{align:"center",direction:"row",children:e.jsx(V,{children:"Edit node name"})})}),e.jsx(n,{mb:12,children:e.jsx(L,{id:"cy-topic",maxLength:50,name:"topic",placeholder:"Add your topic",rules:{..._}})})]}),V=v(N)`
  font-size: 22px;
  font-weight: 600;
  font-family: 'Barlow';
`,q=()=>{const{close:c}=h("editNodeName"),[r]=B(s=>[s.data]),d=C({mode:"onChange"}),{watch:j,setValue:l,reset:u}=d,[m,p]=a.useState(!1),[f,x]=a.useState(!1),[t,y]=a.useState(),o=z();a.useEffect(()=>(t&&l("topic",t==null?void 0:t.topic),()=>{u()}),[t,l,u]),a.useEffect(()=>{(async()=>{if(o){x(!0);try{const{data:i}=await A({search:o==null?void 0:o.name}),E=i.find(T=>T.topic===o.name);y(E)}catch(i){console.log(i)}finally{x(!1)}}})()},[o]);const g=j("topic"),S=()=>{c()},w=async()=>{p(!0);try{if(await I({ref_id:(t==null?void 0:t.ref_id)||"",node_name:"topic",node_value:g.trim()}),r){const s={...r};console.log(s)}S()}catch(s){console.warn(s)}finally{p(!1)}};return e.jsxs(D,{...d,children:[f?e.jsx(n,{my:24,children:e.jsx(R,{})}):e.jsx(P,{}),e.jsxs(F,{color:"secondary",disabled:m||f,onClick:w,size:"large",variant:"contained",children:["Save",m&&e.jsx(k,{color:b.BLUE_PRESS_STATE,size:10})]})]})},U=()=>{const{close:c}=h("editNodeName");return e.jsx(M,{id:"editNodeName",kind:"regular",onClose:c,preventOutsideClose:!0,children:e.jsx(q,{})})};export{U as EditNodeNameModal};
